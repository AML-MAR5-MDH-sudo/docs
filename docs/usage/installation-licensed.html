<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="description">
        <meta name="keywords" content="static content generator,static site generator,static site,HTML,web development,.NET,C#,Razor,Markdown,YAML">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/docs/assets/img/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/docs/assets/img/favicon.ico" type="image/x-icon">
        <title>docs - How to install licensed edition</title>
        <link href="/docs/assets/css/highlight.css" rel="stylesheet">
        <link href="/docs/assets/css/bootstrap/bootstrap.css" rel="stylesheet">
        <link href="/docs/assets/css/adminlte/AdminLTE.css" rel="stylesheet">
        <link href="/docs/assets/css/theme/theme.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,400i,700,700i" rel="stylesheet">
        <link href="/docs/assets/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="/docs/assets/css/override.css" rel="stylesheet">
        <script src="/docs/assets/js/jquery-2.2.3.min.js"></script>
        <script src="/docs/assets/js/bootstrap.min.js"></script>        
        <script src="/docs/assets/js/app.min.js"></script>         
        <script src="/docs/assets/js/highlight.pack.js"></script>   
        <script src="/docs/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/docs/assets/js/jquery.sticky-kit.min.js"></script>
        <script src="/docs/assets/js/mermaid.min.js"></script>
        <script src="/docs/assets/js/svg-pan-zoom.min.js"></script>
        <!--[if lt IE 9]>
        <script src="/docs/assets/js/html5shiv.min.js"></script>
        <script src="/docs/assets/js/respond.min.js"></script>
        <![endif]-->  

        
    </head>
    <body class="hold-transition wyam layout-boxed  ">    
        <div class="top-banner"></div>
        <div class="wrapper with-container">
            <!-- Header -->
            <header class="main-header">   
                     
                <a href="/docs/" class="logo">
                            <span>docs</span>
                </a>   
                         
                <nav class="navbar navbar-static-top" role="navigation">
                    <!-- Sidebar toggle button-->
                        <a href="#" class="sidebar-toggle visible-xs-block" data-toggle="offcanvas" role="button">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-right"></i>
                        </a>
                                        
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
                            <span class="sr-only">Toggle side menu</span>
                            <i class="fa fa-chevron-circle-down"></i>
                        </button>
                    </div>
            
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse pull-left" id="navbar-collapse">
                        <ul class="nav navbar-nav">                            
                            

        <li class="active"><a href="/docs/docs">Documentation</a></li>
 
                        </ul>       
                    </div>
                    <!-- /.navbar-collapse -->
                
                    <!-- Navbar Right Menu -->
                </nav>
            </header>
            
            <!-- Left side column. contains the logo and sidebar -->
            <aside class="main-sidebar ">
                <section class="infobar" data-spy="affix" data-offset-top="60" data-offset-bottom="200"> 
                    	
        <div><p><a href="https://github.com/chocolatey/docs/tree/master/input/docs/usage/installation-licensed.md"><i class="fa fa-pencil-square" aria-hidden="true"></i> Edit Content</a></p></div>
    <div id="infobar-headings"><h6>On This Page</h6><p><a href="#install-the-licensed-edition">Install The Licensed Edition</a></p>
<p><a href="#internal-organizational-chocolatey-deployments">Internal / Organizational Chocolatey Deployments</a></p>
<p><a href="#some-administrative-actions">Some Administrative Actions</a></p>
<p><a href="#how-do-i-know-when-the-license-is-installed">How Do I Know When the License is Installed?</a></p>
<p><a href="#see-it-in-action">See It In Action</a></p>
<p><a href="#how-do-i-install-the-licensed-edition">How Do I Install The Licensed Edition?</a></p>
<p><a href="#how-do-i-install-a-local-nupkg-file">How Do I Install a Local nupkg File?</a></p>
<p><a href="#how-do-i-install-the-trial-edition">How Do I Install The Trial Edition?</a></p>
<p><a href="#install-options">Install Options</a></p>
<p><a href="#install-without-context-menus">Install Without Context Menus</a></p>
<p><a href="#upgrading">Upgrading</a></p>
<p><a href="#upgrade-the-extension">Upgrade the Extension</a></p>
<p><a href="#how-do-i-upgrade-the-license-file">How Do I Upgrade the License File?</a></p>
<p><a href="#how-do-i-upgrade-the-trial-edition">How Do I Upgrade the Trial Edition?</a></p>
<p><a href="#how-do-i-upgrade-the-trial-license-file">How Do I Upgrade the Trial License File?</a></p>
<p><a href="#installing-upgrading-in-secure-environments-without-internet-access">Installing / Upgrading In Secure Environments / Without Internet Access</a></p>
<p><a href="#set-up-licensed-edition-with-puppet">Set Up Licensed Edition With Puppet</a></p>
<p><a href="#install-the-chocolatey-agent-service">Install the Chocolatey Agent Service</a></p>
<p><a href="#ensure-the-chocolatey-agent-service-with-puppet">Ensure the Chocolatey Agent Service with Puppet</a></p>
<p><a href="#common-errors-and-resolutions">Common Errors and Resolutions</a></p>
<p><a href="#chocolatey-doesnt-recognize-the-license-file">Chocolatey doesn't recognize the license file</a></p>
<p><a href="#exception-of-type-rhino.licensing.licensenotfoundexception-was-thrown">Exception of type 'Rhino.Licensing.LicenseNotFoundException' was thrown.</a></p>
<p><a href="#error-the-term-install-chocolateywindowsservice-is-not-recognized-as-the-name-of-a-cmdlet-function-script-file-or-operable-program">ERROR: The term 'Install-ChocolateyWindowsService' is not recognized as the name of a cmdlet, function, script file, or operable program.</a></p>
<p><a href="#unable-to-load-licensed-version-extensions-and-commands">Unable to load licensed version extensions and commands.</a></p>
<p><a href="#error-when-registering-components">Error when registering components</a></p>
<p><a href="#access-to-the-path-is-denied">Access to the path is denied.</a></p>
<p><a href="#no-longer-able-to-double-click-a-nuspec-to-create-a-package">No longer able to double click a nuspec to create a package</a></p>
<hr class="infobar-hidden">
</div>

                </section>
                <section class="sidebar">    
                                     
                    

                    <ul class="sidebar-menu">
                        

                <li><a href="/docs/docs/home">Docs Home</a></li>
                <li><a href="/docs/docs/why">Why Chocolatey?</a></li>
                <li><a href="/docs/docs/security">Security</a></li>
                <li class="treeview">
                    <a href="/docs/docs/features">Features</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/docs/docs/features/free">Free</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/features/free/how-to-host-feed">Host packages internally</a></li>
                <li><a href="/docs/docs/features/free/infrastructure-automation">Integrates with everything</a></li>
                <li><a href="/docs/docs/features/free/shim">Package Shims</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/features/paid">Paid</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/features/paid/agent-service">Self Service/Background Mode (C4B)</a></li>
                <li><a href="/docs/docs/features/paid/chocolatey-central-management">Chocolatey Central Management (C4B)</a></li>
                <li><a href="/docs/docs/features/paid/automatically-recompile-packages">Package Internalizer (C4B)</a></li>
                <li><a href="/docs/docs/features/paid/create-packages-from-installers">Package Builder (C4B)</a></li>
                <li><a href="/docs/docs/features/paid/package-audit">Package Audit (C4B)</a></li>
                <li><a href="/docs/docs/features/paid/branding">Branding Chocolatey Applications (C4B)</a></li>
                <li><a href="/docs/docs/features/paid/virus-check">Runtime Malware Protection (Pro+)</a></li>
                <li><a href="/docs/docs/features/paid/private-cdn">Download CDN Cache (Pro+)</a></li>
                <li><a href="/docs/docs/features/paid/package-reducer">Package Reducer (Pro+)</a></li>
                <li><a href="/docs/docs/features/paid/install-directory-override">Ubiquitous Install Directory Option (Pro+)</a></li>
                <li><a href="/docs/docs/features/paid/package-throttle">Package Throttle (Pro+)</a></li>
                <li><a href="/docs/docs/features/paid/synchronize">Package Synchronizer (Pro+ Auto / C4B Sync Command)</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/general">General</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li class="treeview">
                    <a href="/docs/docs/general/release-notes">Release Notes</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/general/release-notes/open-source">Open Source</a></li>
                <li><a href="/docs/docs/general/release-notes/licensed">Licensed</a></li>

                    </ul>
                </li>
                <li><a href="/docs/docs/general/troubleshooting">Troubleshooting</a></li>
                <li><a href="/docs/docs/general/faqs">FAQs</a></li>
                <li><a href="/docs/docs/general/moderation">Chocolatey.org Moderation</a></li>
                <li><a href="/docs/docs/general/community-packages-disclaimer">Chocolatey.org Packages Disclaimer</a></li>

                    </ul>
                </li>
                <li class="treeview active">
                    <a href="/docs/docs/usage">Usage</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/usage/installation">How to install</a></li>
                <li class="selected"><a href="/docs/docs/usage/installation-licensed">How to install licensed edition</a></li>
                <li><a href="/docs/docs/usage/chocolatey-configuration">Configuration/chocolatey.config</a></li>
                <li><a href="/docs/docs/usage/uninstallation">How to uninstall</a></li>
                <li><a href="/docs/docs/usage/getting-started">Getting Started</a></li>
                <li class="treeview">
                    <a href="/docs/docs/usage/commands">Commands</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/usage/commands/reference">Complete Reference</a></li>
                <li><a href="/docs/docs/usage/commands/list">List/Search</a></li>
                <li><a href="/docs/docs/usage/commands/info">Info</a></li>
                <li><a href="/docs/docs/usage/commands/install">Install</a></li>
                <li><a href="/docs/docs/usage/commands/pin">Pin</a></li>
                <li><a href="/docs/docs/usage/commands/outdated">Outdated</a></li>
                <li><a href="/docs/docs/usage/commands/upgrade">Upgrade</a></li>
                <li><a href="/docs/docs/usage/commands/uninstall">Uninstall</a></li>
                <li><a href="/docs/docs/usage/commands/config">Config</a></li>
                <li><a href="/docs/docs/usage/commands/sources">Source/Sources</a></li>
                <li><a href="/docs/docs/usage/commands/feature">Feature</a></li>
                <li><a href="/docs/docs/usage/commands/download">Download</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/creating-packages">Creating Packages</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/creating-packages/create-packages">Create Packages</a></li>
                <li><a href="/docs/docs/creating-packages/create-packages-quick-start">Quick Start</a></li>
                <li class="treeview">
                    <a href="/docs/docs/creating-packages/commands">Commands</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/creating-packages/commands/new">New</a></li>
                <li><a href="/docs/docs/creating-packages/commands/pack">Pack</a></li>
                <li><a href="/docs/docs/creating-packages/commands/api-key">ApiKey</a></li>
                <li><a href="/docs/docs/creating-packages/commands/push">Push</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/creating-packages/helpers">PowerShell Reference</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/creating-packages/helpers/reference">Function and Variable Reference</a></li>
                <li><a href="/docs/docs/creating-packages/helpers/install-chocolateypackage">Install-ChocolateyPackage</a></li>
                <li><a href="/docs/docs/creating-packages/helpers/install-chocolateyzippackage">Install-ChocolateyZipPackage</a></li>
                <li><a href="/docs/docs/creating-packages/helpers/install-chocolateypowershellcommand">Install-ChocolateyPowerShellCommand</a></li>
                <li><a href="/docs/docs/creating-packages/helpers/install-chocolateyvsixpackage">Install-ChocolateyVsixPackage</a></li>
                <li><a href="/docs/docs/creating-packages/helpers/get-chocolateywebfile">Get-ChocolateyWebFile</a></li>
                <li><a href="/docs/docs/creating-packages/helpers/install-chocolateyinstallpackage">Install-ChocolateyInstallPackage</a></li>

                    </ul>
                </li>
                <li><a href="/docs/docs/creating-packages/automatic-packages">Automatic Packaging</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/how-tos">How To's</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/how-tos/proxy-settings-for-chocolatey">Use Chocolatey w/Proxy Server</a></li>
                <li><a href="/docs/docs/how-tos/change-cache">Change Download Cache Location aka Don't use TEMP for downloads</a></li>
                <li><a href="/docs/docs/how-tos/install-upgrade-package-without-scripts">Install/Upgrade a Package w/out running install scripts</a></li>
                <li><a href="/docs/docs/how-tos/package-triage-process">Request Package Fixes/Updates</a></li>
                <li><a href="/docs/docs/how-tos/recompile-packages">Manually Recompile Packages, Embedding/Internalizing Remote Resources</a></li>
                <li><a href="/docs/docs/how-tos/package-maintainer-handover">Take Over Package Maintenance Exclusively</a></li>
                <li><a href="/docs/docs/how-tos/parse-packageparameters-argument">Parse Package Parameters</a></li>
                <li><a href="/docs/docs/how-tos/mount-an-iso-in-chocolatey-package">Mount Iso</a></li>
                <li><a href="/docs/docs/how-tos/create-custom-package-templates">Create Custom Package Templates</a></li>
                <li><a href="/docs/docs/how-tos/create-extensions">Extend Chocolatey With PowerSHell Modules (extensions)</a></li>
                <li><a href="/docs/docs/how-tos/deprecate-a-chocolatey-package">Deprecate a Package</a></li>
                <li><a href="/docs/docs/how-tos/set-up-chocolatey-server">Set up the Chocolatey.Server</a></li>
                <li><a href="/docs/docs/how-tos/setup-offline-installation">Set up Chocolatey for Internal/organizational use</a></li>
                <li><a href="/docs/docs/how-tos/setup-internal-package-repository">Automate Package Internalizer (MSP/C4B)</a></li>
                <li><a href="/docs/docs/how-tos/chocolatey-for-business-quick-start-guide">C4B Quick Start Guide</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/chocolatey-gui">Chocolatey GUI</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/chocolatey-gui/overview">Chocolatey GUI Overview</a></li>
                <li><a href="/docs/docs/chocolatey-gui/known-issues">Chocolatey GUI Known Issues</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/quick-deployment">Quick Deployment Environment (QDE)</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/quick-deployment/overview">Overview</a></li>
                <li><a href="/docs/docs/quick-deployment/setup">Setup</a></li>
                <li><a href="/docs/docs/quick-deployment/desktop-readme">Desktop Readme</a></li>
                <li><a href="/docs/docs/quick-deployment/ssl-setup">SSL Setup</a></li>
                <li><a href="/docs/docs/quick-deployment/firewall-changes">Firewall Changes</a></li>
                <li><a href="/docs/docs/quick-deployment/client-setup">Client Setup</a></li>
                <li><a href="/docs/docs/quick-deployment/internet-setup">Internet Setup</a></li>
                <li class="treeview">
                    <a href="/docs/docs/quick-deployment/v1">V1</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/quick-deployment/v1/setup">Setup</a></li>
                <li><a href="/docs/docs/quick-deployment/v1/desktop-readme">Desktop Readme</a></li>
                <li><a href="/docs/docs/quick-deployment/v1/ssl-setup">SSL Setup</a></li>
                <li><a href="/docs/docs/quick-deployment/v1/firewall-changes">Firewall Changes</a></li>
                <li><a href="/docs/docs/quick-deployment/v1/client-setup">Client Setup</a></li>

                    </ul>
                </li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/central-management">Chocolatey Central Management (CCM)</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/central-management/overview">Central Management Overview</a></li>
                <li><a href="/docs/docs/central-management/setup">Central Management Setup</a></li>
                <li><a href="/docs/docs/central-management/setup-client">Central Management Client Setup</a></li>
                <li><a href="/docs/docs/central-management/setup-upgrade">Central Management Upgrade</a></li>
                <li><a href="/docs/docs/central-management/deployments">Central Management Deployments</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/use-cases">Use Cases</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/use-cases/development-environment-setup">Development Environment</a></li>
                <li><a href="/docs/docs/use-cases/hosting-chocolatey-packages-on-myget">Host on MyGet</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/learning-resources">Learning Resources</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/learning-resources/resources">Resources</a></li>
                <li><a href="/docs/docs/learning-resources/videos">Videos</a></li>
                <li><a href="/docs/docs/learning-resources/presentations">Presentations</a></li>

                    </ul>
                </li>
                <li class="treeview">
                    <a href="/docs/docs/additional-information">Additional Information</a> <a href="#" class="expand"></a>
                    <ul class="treeview-menu">
                        
                <li><a href="/docs/docs/additional-information/legal">Legal</a></li>
                <li><a href="/docs/docs/additional-information/history">History</a></li>

                    </ul>
                </li>

                    </ul>
                            
                </section>                
            </aside>
            
            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                



		<section class="content-header">
			<h1>How to install licensed edition</h1>
		</section>
	<section class="content">
		<h1 id="install-the-licensed-edition">Install The Licensed Edition</h1>
<p>Congratulations on your recent purchase of a licensed edition of Chocolatey! If you are trialing, please pay particular attention to that section:</p>
<!-- TOC -->
<ul>
<li><a href="#internal--organizational-chocolatey-deployments">Internal / Organizational Chocolatey Deployments</a></li>
<li><a href="#some-administrative-actions">Some Administrative Actions</a></li>
<li><a href="#how-do-i-know-when-the-license-is-installed">How Do I Know When the License is Installed?</a></li>
<li><a href="#see-it-in-action">See It In Action</a></li>
<li><a href="#how-do-i-install-the-licensed-edition">How Do I Install The Licensed Edition?</a>
<ul>
<li><a href="#how-do-i-install-a-local-nupkg-file">How Do I Install a Local nupkg File?</a></li>
<li><a href="#how-do-i-install-the-trial-edition">How Do I Install The Trial Edition?</a>
<ul>
<li><a href="#notes-on-the-trial-version">Notes on the Trial Version</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#install-options">Install Options</a>
<ul>
<li><a href="#install-without-context-menus">Install Without Context Menus</a></li>
</ul>
</li>
<li><a href="#upgrading">Upgrading</a>
<ul>
<li><a href="#upgrade-the-extension">Upgrade the Extension</a></li>
<li><a href="#how-do-i-upgrade-the-license-file">How Do I Upgrade the License File?</a></li>
<li><a href="#how-do-i-upgrade-the-trial-edition">How Do I Upgrade the Trial Edition?</a></li>
<li><a href="#how-do-i-upgrade-the-trial-license-file">How Do I Upgrade the Trial License File?</a></li>
</ul>
</li>
<li><a href="#installing--upgrading-in-secure-environments--without-internet-access">Installing / Upgrading In Secure Environments / Without Internet Access</a></li>
<li><a href="#set-up-licensed-edition-with-puppet">Set Up Licensed Edition With Puppet</a></li>
<li><a href="#install-the-chocolatey-agent-service">Install the Chocolatey Agent Service</a>
<ul>
<li><a href="#ensure-the-chocolatey-agent-service-with-puppet">Ensure the Chocolatey Agent Service with Puppet</a></li>
</ul>
</li>
<li><a href="#common-errors-and-resolutions">Common Errors and Resolutions</a>
<ul>
<li><a href="#chocolatey-doesnt-recognize-the-license-file">Chocolatey doesn't recognize the license file</a></li>
<li><a href="#exception-of-type-rhinolicensinglicensenotfoundexception-was-thrown">Exception of type 'Rhino.Licensing.LicenseNotFoundException' was thrown.</a></li>
<li><a href="#error-the-term-install-chocolateywindowsservice-is-not-recognized-as-the-name-of-a-cmdlet-function-script-file-or-operable-program">ERROR: The term 'Install-ChocolateyWindowsService' is not recognized as the name of a cmdlet, function, script file, or operable program.</a></li>
<li><a href="#unable-to-load-licensed-version-extensions-and-commands">Unable to load licensed version extensions and commands.</a></li>
<li><a href="#error-when-registering-components">Error when registering components</a></li>
<li><a href="#access-to-the-path-is-denied">Access to the path is denied.</a></li>
<li><a href="#no-longer-able-to-double-click-a-nuspec-to-create-a-package">No longer able to double click a nuspec to create a package</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="internal-organizational-chocolatey-deployments">Internal / Organizational Chocolatey Deployments</h2>
<p>Refer to [[How To Set Up Chocolatey For Organizational/Internal Use|How-To-Setup-Offline-Installation]] in tandem with this article.</p>
<h2 id="some-administrative-actions">Some Administrative Actions</h2>
<ul>
<li>The email the license is sent to will automatically be subscribed to the customer advisory list. If there are other folks who need to be on that list for important notifications, please have them sign up at <a href="http://eepurl.com/b6zpGv">Chocolatey Customers</a>.</li>
<li>Please sign up for software announcements at <a href="https://groups.google.com/d/forum/chocolatey-announce">Chocolatey Announce</a>. Direct others to sign up for the list as well.</li>
<li>For support, remember to use the support email address (below).</li>
<li>Learn how to install below. Installation is also found at <a href="https://chocolatey.org/docs/installation-licensed">https://chocolatey.org/docs/installation-licensed</a>.</li>
</ul>
<h2 id="how-do-i-know-when-the-license-is-installed">How Do I Know When the License is Installed?</h2>
<p>Installing a licensed edition requires two parts</p>
<ul>
<li>The properly placed license file</li>
<li>Installing/upgrading the licensed package - Chocolatey Licensed Extension (<code>chocolatey.extension</code>)</li>
</ul>
<p>When you have performed all parts correctly, running <code>choco</code> will produce a message like one of the following:</p>
<ul>
<li><code>Chocolatey v0.10.8 Professional</code></li>
<li><code>Chocolatey v0.10.8 Business</code></li>
</ul>
<p>Additionally:</p>
<ul>
<li>You will not see "Error when attempting to load chocolatey licensed assembly" warning message.</li>
</ul>
<p>If you do not see the edition next to the name and version without an error, you need to check over your installation procedure again to ensure you've completed it properly. See below.</p>
<h2 id="see-it-in-action">See It In Action</h2>
<p>Here's the whole process for installing your license and installing the licensed code.</p>
<p><img src="https://raw.githubusercontent.com/wiki/chocolatey/choco/images/gifs/choco_install_pro.gif" class="img-fluid" alt="install"></p>
<h2 id="how-do-i-install-the-licensed-edition">How Do I Install The Licensed Edition?</h2>
<blockquote class="blockquote">
<p>:memo: <strong>NOTE:</strong> Prior to install, see if there are any parameters (like turning off context menus) that you may want to set. See <a href="#install-options">install options</a>.</p>
</blockquote>
<blockquote class="blockquote">
<p>:warning: <strong>WARNING</strong></p>
<p>Order is <em><strong>VERY</strong></em> important here. You need license file placed, then <code>chocolatey.extension</code>, then any other licensed components. Expect issues if you don't follow this order exactly.</p>
</blockquote>
<ol>
<li>Install a recent version of Chocolatey (0.10.8+) - <code>choco upgrade chocolatey</code> (due to a tight integration, <code>chocolatey.extension</code> may need a newer version than what is listed here). TRIAL? You need to do more as your license key will not be known by the server. See <a href="#how-do-i-install-the-trial-edition">Install the Trial Edition</a>.</li>
<li>You received a license file in email.</li>
<li>Open PowerShell.exe as an administrative shell. You can type Windows Key + X + A (Windows 8+ - when that comes up if it is cmd.exe, simply type <code>powershell</code> to get into it).</li>
<li>In PowerShell, run <code>New-Item $env:ChocolateyInstall\license -Type Directory -Force</code> - this creates the license directory. Alternatively, you can put the license in your user profile directory, e.g. <code>"C:\Users\YourUserName\chocolatey.license.xml"</code>, however we only recommend you do this for Professional licenses as for other licensing you may need it to be recognized by multiple users.</li>
<li>Now place that license file in that license folder. You can do this manually, or you can adapt this PowerShell command - <code>Copy-Item &lt;c:\path\&gt;chocolatey.license.xml $env:ChocolateyInstall\license\chocolatey.license.xml -Force</code>. (See image below)</li>
<li>Verify the license file is set properly. In PowerShell, run <code>type $env:ChocolateyInstall\license\chocolatey.license.xml.</code> If that returns something, it means you are good to go. If not, something is misspelled or misplaced somewhere.</li>
<li>Run this command: <code>choco upgrade chocolatey.extension</code> (or you can call <code>install</code> instead of <code>upgrade</code>). You will see an error you can safely ignore.</li>
<li>Run this command: <code>choco</code>. You should not see any error message logged anymore (like you saw in the previous run asking you to install the licensed extension). If you do see an error message still, you may need to revisit these steps and determine what might have been missed or mistyped.</li>
<li>That's it! You are good to go.</li>
</ol>
<p><img src="https://cloud.githubusercontent.com/assets/63502/12741281/84a3df8e-c940-11e5-8818-456801728cf5.png" class="img-fluid" alt="license"></p>
<p><img src="https://cloud.githubusercontent.com/assets/63502/13052159/e6d1be92-d3c2-11e5-8856-d7580e51e3b6.png" class="img-fluid" alt="install/upgrade"></p>
<blockquote class="blockquote">
<p>:memo: <strong>NOTE</strong></p>
<p><strong>Organization?</strong>
If you are an organization deploying the licensed edition, you may want to review [[the organizational deployment guide|How-To-Setup-Offline-Installation]] in addition to this for options to deploy to more than one machine.</p>
<p>When deploying the license file out to many machines it is recommended to wrap the license placement logic into a Chocolatey package, embedding the license into the package. This is super helpful when you <a href="#how-do-i-upgrade-the-license-file">upgrade the license files</a> later when renewing or purchasing the full edition.</p>
<p>Refer to [[How To Set Up Chocolatey For Organizational/Internal Use|How-To-Setup-Offline-Installation]] where we have a script you can run that will create the license package automagically.</p>
</blockquote>
<h3 id="how-do-i-install-a-local-nupkg-file">How Do I Install a Local nupkg File?</h3>
<p>See the next section - the logic is quite similar.</p>
<h3 id="how-do-i-install-the-trial-edition">How Do I Install The Trial Edition?</h3>
<p>If you've received a trial license, you will also receive a link to download a recent version of the <code>chocolatey.extension</code> package. <em><strong>You will not be able to install or upgrade the licensed edition through regular means. Chocolatey may add the licensed source, but your license will not be recognized on the server.</strong></em></p>
<blockquote class="blockquote">
<p>:memo: <strong>NOTE:</strong> Prior to install, see if there are any parameters (like turning off context menus) that you may want to set. See <a href="#install-options">install options</a>.</p>
</blockquote>
<blockquote class="blockquote">
<p>:warning: <strong>WARNING</strong></p>
<p>Order is <em><strong>VERY</strong></em> important here. You need license file placed, then <code>chocolatey.extension</code>, then any other licensed components. Expect issues if you don't follow this order exactly.</p>
</blockquote>
<ol>
<li>Install a recent version of Chocolatey (0.10.8+) - <code>choco upgrade chocolatey</code> (due to a tight integration, <code>chocolatey.extension</code> may need a newer version than what is listed here).</li>
<li>You received a license file in email. <strong>That email also contains links to download licensed nupkgs.</strong> If you received the license file from another party but not the email, please ask them to forward it over to you as you will need it.</li>
<li>Obtain the <code>chocolatey.license.xml</code> and download the licensed nupkgs from the locations noted in the trial license email to a local folder. Note this location, you will need it later.</li>
<li>Open PowerShell.exe as an administrative shell. You can type Windows Key + X + A (Windows 8+ - when that comes up if it is cmd.exe, simply type <code>powershell</code> to get into it).</li>
<li>In PowerShell, run <code>New-Item $env:ChocolateyInstall\license -Type Directory -Force</code> - this creates the license directory. Alternatively, you can put the license in your user profile directory, e.g. <code>"C:\Users\YourUserName\chocolatey.license.xml"</code>, however we only recommend you do this for Professional licenses as for other licensing you may need it to be recognized by multiple users.</li>
<li>Now place that license file in that license folder. You can do this manually, or you can adapt this PowerShell command - <code>Copy-Item &lt;c:\path\&gt;chocolatey.license.xml $env:ChocolateyInstall\license\chocolatey.license.xml -Force</code>. (See image below)</li>
<li>Verify the license file is set properly. In PowerShell, run <code>type $env:ChocolateyInstall\license\chocolatey.license.xml.</code> If that returns something, it means you are good to go. If not, something is misspelled or misplaced somewhere.</li>
<li>Run this command: <code>choco upgrade chocolatey.extension --pre --source c:\folder\where\downloaded\nupkg\resides</code> (or you can use <code>install</code> instead of <code>upgrade</code>). <strong>Note</strong>: Source location is not <code>--source c:\downloads\chocolatey.extension.1.8.1.nupkg</code>, it is <code>--source c:\downloads</code>. You will see an error you can safely ignore.</li>
<li>Run this command: <code>choco</code>. You should not see any error message logged anymore (like you saw in the previous run asking you to install the licensed extension). If you do see an error message still, you may need to revisit these steps and determine what might have been missed or mistyped.</li>
<li>That's it! You are good to go.</li>
</ol>
<p>See the difference between the trial install here and <a href="#how-do-i-install-the-licensed-edition">a fully licensed edition</a> (also see the pictures above).</p>
<h4 id="notes-on-the-trial-version">Notes on the Trial Version</h4>
<p>Very little functionality if any is held back. With the movement forward on things like Central Management and GUI branding, those are now available with a trial as well.</p>
<h2 id="install-options">Install Options</h2>
<h3 id="install-without-context-menus">Install Without Context Menus</h3>
<p>As of Chocolatey Licensed Extension v1.12.2, you can install to client machines without the context menus (the "Right Click" menu). Add the following to your installation : <code>--params="'/NoContextMenu'"</code>. As of Chocolatey Licensed Extension v2.1.0, you can pass <code>--params="'/NoContextMenu'"</code> during upgrade as well to remove context menus if you have previously already deployed them. Example: <code>choco install chocolatey.extension -y --params="'/NoContextMenu'"</code>.</p>
<h2 id="upgrading">Upgrading</h2>
<h3 id="upgrade-the-extension">Upgrade the Extension</h3>
<p>To upgrade the licensed edition just run the following code:</p>
<ul>
<li><code>choco upgrade chocolatey.extension</code> (plus options like <code>-y</code> for scripts)</li>
</ul>
<p>Your license automatically adds the licensed source.</p>
<blockquote class="blockquote">
<p>:warning: <strong>WARNING</strong></p>
<p>If your license expires or you remove licensing and then run choco, it may remove all of your licensed configuration settings, so be prepared to add those settings again once you have a valid license.</p>
</blockquote>
<h3 id="how-do-i-upgrade-the-license-file">How Do I Upgrade the License File?</h3>
<p>You would simply place the new license file on top of the existing license file, overwriting it. This can be done in many ways, the recommended way is to create a package for the license itself. See <a href="How-To-Setup-Offline-Installation#exercise-4-create-a-package-for-the-license">Create a license for the package</a> as part of [[the organizational deployment guide|How-To-Setup-Offline-Installation]].</p>
<h3 id="how-do-i-upgrade-the-trial-edition">How Do I Upgrade the Trial Edition?</h3>
<p>You will not be able to upgrade through regular means - please reach back out to the Chocolatey Software folks to get an updated edition (and possibly an extended trial license).</p>
<h3 id="how-do-i-upgrade-the-trial-license-file">How Do I Upgrade the Trial License File?</h3>
<p>The same way you upgrade for the full edition. See <a href="#how-do-i-upgrade-the-license-file">How Do I Upgrade the License File?</a></p>
<h2 id="installing-upgrading-in-secure-environments-without-internet-access">Installing / Upgrading In Secure Environments / Without Internet Access</h2>
<p>Once you have the license down and the licensed edition extension intstalled the first time, you will have access to <code>choco download</code>. This will allow you to download the licensed edition and put it on your internally hosted repository.</p>
<p>From a machine that will have access to do this you simply run:</p>
<ul>
<li><code>choco download chocolatey.extension --source https://licensedpackages.chocolatey.org/api/v2/ --ignore-dependencies</code></li>
<li>Whatever followup command you need to push that downloaded package to your internal package repository.</li>
</ul>
<p>You can even script this or add it to a CI job that would automatically make the newer edition available.</p>
<blockquote class="blockquote">
<p>:warning: <strong>WARNING</strong></p>
<p>The licensed source that is automatically added can be disabled, but it cannot be removed. So just run <code>choco source disable -n chocolatey.licensed</code> to disable it or set that up in your configuration management solution scripts. Some of them, like Puppet, have a resource dedicated strictly to this:</p>
</blockquote>
<pre><code class="language-puppet">## Disable the licensed source, it can't be removed
## Disabled sources still need all other attributes until
## https://tickets.puppetlabs.com/browse/MODULES-4449 is resolved.
## Password is necessary with user, but not ensurable, so it should not
## matter what it is set to here. If you ever do get into trouble here,
## the password is your license GUID.
chocolateysource {'chocolatey.licensed':
  ensure   =&gt; disabled,
  priority =&gt; '10',
  user     =&gt; 'customer',
  password =&gt; '1234',
  require  =&gt; File['C:/ProgramData/chocolatey/license/chocolatey.license.xml'],
}
</code></pre>
<h2 id="set-up-licensed-edition-with-puppet">Set Up Licensed Edition With Puppet</h2>
<p>Most organizations using Chocolatey and Puppet are going to do so with zero internet access.</p>
<ul>
<li>Set up a local licensed edition of Chocolatey and run the following commands:</li>
<li><code>choco download chocolatey --source https://chocolatey.org/api/v2/</code></li>
<li><code>choco download chocolatey.server --source https://chocolatey.org/api/v2/</code></li>
<li><code>choco download chocolatey.extension --source https://licensedpackages.chocolatey.org/api/v2/ --ignore-dependencies</code></li>
<li><code>choco download chocolatey-agent --source https://licensedpackages.chocolatey.org/api/v2/ --ignore-dependencies</code></li>
<li>Use <code>choco push</code> to push those items to your internal package repository (e.g. <code>choco push chocolatey.0.10.7.nupkg -s http://internal_repo/ -k abc123</code>)</li>
<li>Determine how to get the bare url to download the Chocolatey.Nupkg directly. You will need that for the internal url for installing Chocolatey offline. For the community repository, it is <a href="https://chocolatey.org/api/v2/package/chocolatey">https://chocolatey.org/api/v2/package/chocolatey</a></li>
</ul>
<p>Here is what a completely offline use of Chocolatey looks like (complete with a Chocolatey.Server instance):</p>
<pre><code class="language-puppet"># Requires puppetlabs/chocolatey module
# See https://forge.puppet.com/puppetlabs/chocolatey

## - Ensure Chocolatey Install -
## Download chocolatey.nupkg to your internal repository (see above
##  about getting the package for offline use)
## Note: `chocolatey_download_url is completely different than normal
##  source locations. This is directly to the bare download url for the
##  chocolatey.nupkg, similar to what you see when you browse to
##  https://chocolatey.org/api/v2/package/chocolatey
class {'chocolatey':
  chocolatey_download_url =&gt; 'https://&lt;internalurl/to&gt;/chocolatey.nupkg',
  use_7zip                =&gt; false,
}


## If you need FIPS compliance
## make this the first thing you configure before you do any additional
## configuration or package installations
#chocolateyfeature {'useFipsCompliantChecksums':
#  ensure =&gt; enabled,
#}

## Keep chocolatey up to date based on your internal source
## You control the upgrades based on when you push an updated version
##  to your internal repository.
## Note the source here is to the OData feed, similar to what you see
##  when you browse to https://chocolatey.org/api/v2
package {'chocolatey':
  ensure   =&gt; latest,
  provider =&gt; chocolatey,
  source   =&gt; 'https://&lt;internal_repo&gt;/',
}

## - Configure Chocolatey -
### Config Settings

## Move cache location so Chocolatey is very deterministic about
## cleaning up temporary data
chocolateyconfig {'cacheLocation':
  value =&gt; 'c:\ProgramData\choco-cache',
}

## Increase timeout to 4 hours
chocolateyconfig {'commandExecutionTimeoutSeconds':
  value =&gt; '14400',
}

### Sources
## Remove the default community package repository source
chocolateysource {'chocolatey':
  ensure   =&gt; absent,
  location =&gt; 'https://chocolatey.org/api/v2/',
}

## Disable the licensed source, it can't be removed
## Disabled sources still need all other attributes until
## https://tickets.puppetlabs.com/browse/MODULES-4449 is resolved.
## Password is necessary with user, but not ensurable, so it should not
## matter what it is set to here. If you ever do get into trouble here,
## the password is your license GUID.
chocolateysource {'chocolatey.licensed':
  ensure   =&gt; disabled,
  priority =&gt; '10',
  user     =&gt; 'customer',
  password =&gt; '1234',
  require  =&gt; File['C:/ProgramData/chocolatey/license/chocolatey.license.xml'],
}

## Add default sources for your internal repositories
chocolateysource {'internal_chocolatey':
  ensure             =&gt; present,
  location           =&gt; 'http://internal_location/OData/endpoint',
  priority           =&gt; 1,
  username           =&gt; 'optional',
  password           =&gt; 'optional,not ensured',
  bypass_proxy       =&gt; true,
  admin_only         =&gt; false,
  allow_self_service =&gt; false,
}

### Features
chocolateyfeature {'checksumFiles':
  ensure =&gt; enabled,
}

## When using Puppet for installs
chocolateyfeature {'showDownloadProgress':
  ensure =&gt; disabled,
}

chocolateyfeature {'useRememberedArgumentsForUpgrades':
  ensure =&gt; enabled,
}

## - LICENSED OPTIONS -
### See https://chocolatey.org/docs/installation-licensed

file { ['C:/ProgramData/chocolatey','C:/ProgramData/chocolatey/license']:
  ensure =&gt; directory,
}

### Ensure the license file is in the module
### `puppet:///modules/module_name` == files directory of the module
### `&lt;module_name&gt;\files\chocolatey.license.xml` is where the example
###  be found, where &lt;module_name&gt; is the name of the module (e.g. `choco_internal`)
file {'C:/ProgramData/chocolatey/license/chocolatey.license.xml':
  ensure              =&gt; file,
  source              =&gt; 'puppet:///modules/&lt;module_name&gt;/chocolatey.license.xml',
  source_permissions  =&gt; ignore,
}

## Ensure the chocolatey.extension package
package {'chocolatey.extension':
  ensure          =&gt; latest,
  source          =&gt; 'internal_chocolatey',
  install_options =&gt; ['-pre'],
  require         =&gt; File['C:/ProgramData/chocolatey/license/chocolatey.license.xml'],
  provider        =&gt; chocolatey,
}

### Licensed Config Settings
chocolateyconfig {'virusScannerType':
  value   =&gt; 'Generic',
  require =&gt; Package['chocolatey.extension'],
}

## McAfee options
## https://kc.mcafee.com/corporate/index?page=content&amp;id=KB75478
#chocolateyconfig {'genericVirusScannerPath':
#  value   =&gt; 'C:\full\path\to\scan.exe',
#  require =&gt; Package['chocolatey.extension'],
#}

## https://community.mcafee.com/thread/70968?start=0&amp;tstart=0
## You could try cleaning as well /CLEAN /NORENAME (instead of /DEL)
#chocolateyconfig {'genericVirusScannerArgs':
#  value   =&gt; '[[File]] /ANALYZE /NC /NOEXPIRE /DEL /NOEXPIRE /SILENT /REPORT=c:\ProgramData\choco-cache\lastscan.log',
#  require =&gt; Package['chocolatey.extension'],
#}

## 0 for no issues, 19 for success on cleaning any infected files
#chocolateyconfig {'genericVirusScannerValidExitCodes':
#  value   =&gt; '0, 19',
#  require =&gt; Package['chocolatey.extension'],
#}

### Licensed Feature Settings
chocolateyfeature {'virusCheck':
  ensure  =&gt; enabled,
  require =&gt; Package['chocolatey.extension'],
}

## Package Internalizer enhancement
## See https://chocolatey.org/docs/features-automatically-recompile-packages
chocolateyfeature {'internalizeAppendUseOriginalLocation':
  ensure  =&gt; enabled,
  require =&gt; Package['chocolatey.extension'],
}

## Package Reducer - keep space down
chocolateyfeature {'reduceInstalledPackageSpaceUsage':
  ensure  =&gt; enabled,
  require =&gt; Package['chocolatey.extension'],
}

## Unlock preview features - check before you do this, may not be
##  production ready
#chocolateyfeature {'allowPreviewFeatures':
#  ensure  =&gt; enabled,
#  require =&gt; Package['chocolatey.extension'],
#}


## - Chocolatey Simple Server Package Repository -
## Requires chocolatey/chocolatey_server module  - see
##  https://forge.puppet.com/chocolatey/chocolatey_server
## this contains the bits to install the custom server
## - Ensures IIS and Ensure ASP.NET
## - Installs and configures the Chocolatey.Server website and app pool
## - Sets permissions appropriately

## `server_package_source` is to the OData feed, similar to what you see
##  when you browse to https://chocolatey.org/api/v2
class {'chocolatey_server':
  server_package_source =&gt; 'https://internalurl/odata/server',
}

chocolateysource {'local_chocolatey_server':
  ensure   =&gt; present,
  location =&gt; 'http://localhost/chocolatey',
  priority =&gt; 2,
}
</code></pre>
<h2 id="install-the-chocolatey-agent-service">Install the Chocolatey Agent Service</h2>
<p>For C4B (Chocolatey for Business) customers, there is an optional agent service you can install. The agent service allows for things like background mode, setting up maintenance windows (future), and hooking up to Chocolatey Central Management (future).</p>
<p>To be able to install it, you must first have the licensed edition properly installed. Once you have <a href="#how-do-i-know-when-the-license-is-installed">verified your install</a>, you can run the following:</p>
<ul>
<li><code>choco install chocolatey-agent &lt;options&gt;</code></li>
</ul>
<p>For more on the agent service, please see [[Agent Service|FeaturesAgentService]].</p>
<h3 id="ensure-the-chocolatey-agent-service-with-puppet">Ensure the Chocolatey Agent Service with Puppet</h3>
<p>This is used in conjunction with the script in <a href="#set-up-licensed-edition-with-puppet">Set Up Licensed Edition With Puppet</a>.
Here are some additional commands and scripts you will need for that setup:</p>
<ul>
<li><code>choco download chocolatey-agent --source https://licensedpackages.chocolatey.org/api/v2/ --ignore-dependencies</code></li>
<li>Use <code>choco push</code> to push packages to your internal package repository (e.g. <code>choco push chocolatey-agent.0.8.0.nupkg -s http://internal_repo/ -k abc123</code>)</li>
</ul>
<pre><code class="language-puppet">## - Chocolatey Agent (Additional optional Chocolatey for Business install) -
## See https://chocolatey.org/docs/features-agent-service

## ensure we set the user up properly
chocolateyfeature {'useLocalSystemForServiceInstalls':
  ensure  =&gt; disabled,
  require =&gt; Package['chocolatey.extension'],
}

## this is the default setting
chocolateyconfig {'serviceInstallsDefaultUserName':
  value   =&gt; 'ChocolateyLocalAdmin',
  require =&gt; Package['chocolatey.extension'],
}

## if you are passing through a password, set that here
## otherwise Chocolatey will manage a password that is secured
## and different per machine
#chocolateyconfig {'serviceInstallsDefaultUserPassword':
#  value   =&gt; '&lt;inject_from_hiera&gt;',
#  require =&gt; Package['chocolatey.extension'],
#}

package {'chocolatey-agent':
  ensure          =&gt; latest,
  install_options =&gt; ['-pre'],
  require         =&gt; Chocolateyfeature['useLocalSystemForServiceInstalls'],
  provider        =&gt; chocolatey,
}
</code></pre>
<p>For setting up Self-Service / Background Mode, add the following elements:</p>
<ul>
<li><code>choco download chocolateygui --pre --source="'https://www.myget.org/F/chocolateygui/;https://chocolatey.org/api/v2'" --ignore-dependencies</code></li>
<li><code>choco download dotnet4.5.2 --internalize --source https://chocolatey.org/api/v2</code></li>
<li>Use <code>choco push</code> to push those items to your internal package repository (e.g. <code>choco push chocolatey.0.10.7.nupkg -s http://internal_repo/ -k abc123</code>)</li>
</ul>
<pre><code class="language-puppet">## You don't want a non-admin to get a warning when using self-service
chocolateyfeature {'showNonElevatedWarnings':
  ensure =&gt; disabled,
  require =&gt; Package['chocolatey-agent'],
}

## Ensure Admins (and Puppet) do not use the background service
chocolateyfeature {'useBackgroundServiceWithNonAdministratorsOnly':
  ensure  =&gt; enabled,
  require =&gt; Package['chocolatey-agent'],
}

## We don't recommend disabling this unless you've removed all sources
##  except for your internal and they are fine for self-service
#chocolateyfeature {'useBackgroundServiceWithSelfServiceSourcesOnly':
#  ensure  =&gt; disabled,
#  require =&gt; Package['chocolatey-agent'],
#}

## Set Chocolatey into background mode
chocolateyfeature {'useBackgroundService':
  ensure  =&gt; enabled,
  require =&gt; Chocolateyfeature['useBackgroundServiceWithNonAdministratorsOnly'],
}

## Allow Non-Admins to Uninstall Packages
chocolateyconfig {'backgroundServiceAllowedCommands':
  value   =&gt; 'install,upgrade,uninstall',
  require =&gt; Package['chocolatey.extension'],
}

chocolateyfeature {'allowBackgroundServiceUninstallsFromUserInstallsOnly':
  ensure  =&gt; enabled,
  require =&gt; Package['chocolatey.extension'],
}


## Add repositories allowed for self-service - Requires at least v3.20
# https://forge.puppet.com/puppetlabs/chocolatey/changelog#320---2019-02-19
chocolateysource {'repo_for_self_service':
  ensure             =&gt; present,
  location           =&gt; 'http://internal_location/OData/endpoint',
  priority           =&gt; 1,
  username           =&gt; 'optional',
  password           =&gt; 'optional,not ensured',
  bypass_proxy       =&gt; true,
  allow_self_service =&gt; true,
}

package {'dotnet4.5.2':
  ensure   =&gt; latest,
  notify   =&gt; Reboot['pending_dot_net_install'],
  provider =&gt; chocolatey,
}

reboot { 'pending_dot_net_install':
  when =&gt; pending,
}

package {'chocolateygui':
  ensure          =&gt; latest,
  install_options =&gt; ['-pre'],
  require         =&gt; Package['dotnet4.5.2'],
  provider        =&gt; chocolatey,
}
</code></pre>
<h2 id="common-errors-and-resolutions">Common Errors and Resolutions</h2>
<p>When you are attempting to install the licensed edition, you may run into some errors depending on your configuration. Here are some common ones we've seen.</p>
<h3 id="chocolatey-doesnt-recognize-the-license-file">Chocolatey doesn't recognize the license file</h3>
<p>When you run <code>choco</code>, it doesn't show a commercial edition next to the name. Like 'Chocolatey v0.10.7 Professional'. This means that Chocolatey is not detecting a license file. This could be an incorrectly placed or incorrectly named file. For troubleshooting, please perform the following:</p>
<ol>
<li>Open PowerShell and run the following command (verbatim): <code>Get-Content $env:ChocolateyInstall\license\chocolatey.license.xml</code></li>
</ol>
<p>You should see the output of the license file. If you do not see this, the license file is not placed correctly or misnamed. Please go back and set the license correctly to see if that fixes the issue.</p>
<p>If you do see the expected output but Chocolatey is still not recognizing the file, please do the following:</p>
<ol>
<li>Run <code>cacls.exe C:\ProgramData\chocolatey\license</code></li>
<li>Run <code>cacls.exe C:\ProgramData\chocolatey\license\chocolatey.license.xml</code></li>
<li>Run <code>where.exe choco</code></li>
<li>Please zip up <code>C:\ProgramData\chocolatey\logs\chocolatey.log</code></li>
<li>Open a support ticket and send us the log and the output of the commands in this step.</li>
</ol>
<h3 id="exception-of-type-rhino.licensing.licensenotfoundexception-was-thrown">Exception of type 'Rhino.Licensing.LicenseNotFoundException' was thrown.</h3>
<p>If you run into this error, it means you are on an older version of Chocolatey and you need to upgrade.</p>
<ol>
<li>Remove the license file.</li>
<li>Upgrade the <code>chocolatey</code> package - <code>choco upgrade chocolatey &lt;options&gt;</code></li>
<li>Set the license file back and proceed with the install or upgrade process as above.</li>
</ol>
<h3 id="error-the-term-install-chocolateywindowsservice-is-not-recognized-as-the-name-of-a-cmdlet-function-script-file-or-operable-program">ERROR: The term 'Install-ChocolateyWindowsService' is not recognized as the name of a cmdlet, function, script file, or operable program.</h3>
<p>You can get this if you are attempting to install the <code>chocolatey-agent</code> package, but you don't have a verified installation of a licensed edition of Chocolatey. You must resolve that prior to attempting to install the <code>chocolatey-agent</code> package. See <a href="#how-do-i-know-when-the-license-is-installed">How Do I Know When the License is Installed?</a>.</p>
<h3 id="unable-to-load-licensed-version-extensions-and-commands">Unable to load licensed version extensions and commands.</h3>
<p>You may see a message like this: <code>Unable to load licensed version extensions and commands. Please make sure the version of Chocolatey you are on is up to date and meets the minimum requirements of the licensed version. If that version is in beta, that means the latest avaialble version.</code> followed by the actual error that may look something like this: <code>Could not load type 'chocolatey.infrastructure.app.services.Isomething' from assembly 'choco, Version=0.10.7.0, Culture=neutral, PublicKeyToken=79d02ea9cad655eb'. 0.10.7</code>.</p>
<p>If you see this, it is typically due to an incompatibility between Chocolatey and the licensed extension (Chocolatey.Extension). As these two are tightly integrated to each other, sometimes there are incompatibilities introduced. Chocolatey Software will inform customers of these issues and ways to get around that, typically ahead of releases on the customer advisory list (the link for this is sent with the email that contained the license).</p>
<p>First steps:</p>
<ul>
<li>Try <code>choco upgrade chocolatey.extension -y</code></li>
</ul>
<p>If that is successful, you are good to go. If not, check for other processes locking files/folders in your Chocolatey installation. Please see <a href="#access-to-the-path-is-denied">Access to the path is denied</a>.</p>
<p>If neither of these have resolved the issue, the following steps should remedy the situation:</p>
<blockquote class="blockquote">
<p>:warning: <strong>WARNING</strong>: Running choco in an unlicensed sense will reset/remove all licensed configuration.</p>
</blockquote>
<ul>
<li>Make a backup of the <code>chocolatey.config</code> (typically at "C:\ProgramData\chocolatey\config\chocolatey.config").</li>
<li>Remove the license file - rename the <code>license</code> folder to <code>licensed</code> (typically at "C:\ProgramData\chocolatey\license").</li>
<li>In the <code>extensions</code> folder, delete the <code>chocolatey</code> folder (typically at "C:\ProgramData\chocolatey\extensions\chocolatey").</li>
<li>Run <code>choco uninstall chocolatey.extension</code>.</li>
<li>Add the license file again - rename the <code>licensed</code> folder back to <code>license</code>.</li>
<li>Run <code>choco upgrade chocolatey.extension</code>.</li>
<li>Compare the current <code>chocolatey.config to your backed up </code>chocolatey.config` and set anything that was reset in this process.</li>
</ul>
<h3 id="error-when-registering-components">Error when registering components</h3>
<p>You may see <code>Error when registering components for 'chocolatey.licensed.infrastructure.app.registration.ContainerBinding': Exception has been thrown by the target of an invocation.</code> This falls into the incompatibility or locking aspect. Please see <a href="#unable-to-load-licensed-version-extensions-and-commands">Unable to load licensed version extensions and commands</a>.</p>
<h3 id="access-to-the-path-is-denied">Access to the path is denied.</h3>
<p>You may be attempting to upgrade chocolatey.extension and see that the access to the path <code>c:\programdata\chocolatey\lib\chocolatey.extension</code> is denied. If you've verified you are an administrator and can not get into that folder, it's likely the folder was attempted to be deleted, but another process was accessing that folder and is holding a lock on it. You can use Handles (SysInternals) or something like LockHunter to attempt to find out if there is a lock on the folder. If there is, you normally would just need to close the process in question so the folder can be deleted.</p>
<p>Unfortunately, this is likely to cause your install to be unusable until you fix the locking issue.</p>
<h3 id="no-longer-able-to-double-click-a-nuspec-to-create-a-package">No longer able to double click a nuspec to create a package</h3>
<p>In the Windows 10 1803, it may remove the file association. You can simply <code>choco install chocolatey.extension -y --force</code> to add it back in.</p>

	</section>
                
            </div>           
            
            <!-- Footer -->
            <footer class="main-footer">
            </footer>
            
        </div>
        <div class="wrapper bottom-wrapper">
            <footer class="bottom-footer">
                <p class="text-muted">
    Copyright © Chocolatey Software, Inc.
    <br>
    Website generated by <a href="http://wyam.io" target="_blank">Wyam</a>
</p>

            </footer>
        </div>
        <a href="javascript:" id="return-to-top"><i class="fa fa-chevron-up"></i></a>
        <a class="github-button" href="https://github.com/chocolatey/choco" target="_blank">
    <i class="fa fa-github"></i>
    GitHub
</a>
<script>
    ((window.gitter = {}).chat = {}).options = {
        room: 'chocolatey/choco'
    };
</script>
<script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="" defer=""></script>

<script type="text/javascript" src="/docs/assets/js/anchor.min.js"></script>
<script type="text/javascript" src="/docs/assets/js/clipboard.min.js"></script>
<script type="text/javascript">
    anchors.options.placement = 'left';
    anchors.add();

    var snippets = document.querySelectorAll("pre > code");
    [].forEach.call(snippets, function(snippet) {
        snippet.insertAdjacentHTML("beforebegin", "<button class='btn-copy' data-clipboard-snippet><img class='clippy' width=13 src='/docs/assets/images/clippy.svg' alt='Copy to clipboard'></button>");
    });
    var clipboardSnippets = new Clipboard('[data-clipboard-snippet]', {
        target: function(trigger) {
            return trigger.nextElementSibling;
        }
    });
    clipboardSnippets.on('success', function(e) {
        e.clearSelection();
        showTooltip(e.trigger, "Copied!");
    });
    clipboardSnippets.on('error', function(e) {
        showTooltip(e.trigger, fallbackMessage(e.action));
    });
    var btns = document.querySelectorAll('.btn-copy');
    for (var i = 0; i < btns.length; i++) {
        btns[i].addEventListener('mouseleave', function(e) {
            e.currentTarget.setAttribute('class', 'btn-copy');
            e.currentTarget.removeAttribute('aria-label');
        });
    }
    function showTooltip(elem, msg) {
        elem.setAttribute('class', 'btn-copy tooltipped tooltipped-s');
        elem.setAttribute('aria-label', msg);
    }
    function fallbackMessage(action) {
        var actionMsg = '';
        var actionKey = (action === 'cut' ? 'X' : 'C');
        if (/iPhone|iPad/i.test(navigator.userAgent)) {
            actionMsg = 'No support :(';
        } else if (/Mac/i.test(navigator.userAgent)) {
            actionMsg = 'Press ⌘-' + actionKey + ' to ' + action;
        } else {
            actionMsg = 'Press Ctrl-' + actionKey + ' to ' + action;
        }
        return actionMsg;
    }
</script>
        <script>           
            // Close the sidebar if we select an anchor link
            $(".main-sidebar a[href^='#']:not('.expand')").click(function(){
                $(document.body).removeClass('sidebar-open');
            });
            
            $(document).ready(function() {
                mermaid.initialize(
                {
                    flowchart:
                    {
                        useMaxWidth: false
                    },
					startOnLoad: false,
					cloneCssStyles: false
                });     
                mermaid.init(undefined, ".mermaid");

                // Remove the max-width setting that Mermaid sets
                var mermaidSvg = $('.mermaid svg');
                mermaidSvg.addClass('img-responsive');
                mermaidSvg.css('max-width', '');

                // Make it scrollable
				var target = document.querySelector(".mermaid svg");
				if(target !== null)
				{
					var panZoom = window.panZoom = svgPanZoom(target, {
						zoomEnabled: true,
						controlIconsEnabled: true,
						fit: true,
						center: true,
                        maxZoom: 20,
                        zoomScaleSensitivity: 0.6
					});			                          

                    // Do the reset once right away to fit the diagram
                    panZoom.resize();
                    panZoom.fit();
                    panZoom.center();
                    
                    $(window).resize(function(){
                        panZoom.resize();
                        panZoom.fit();
                        panZoom.center();
                    });
				}
                
                $('pre code').each(function(i, block) {
                    hljs.highlightBlock(block);
                });  
            });

            hljs.initHighlightingOnLoad();

            // Back to top
            $(window).scroll(function() {
                if ($(this).scrollTop() >= 200) {        // If page is scrolled more than 50px
                    $('#return-to-top').fadeIn(1000);    // Fade in the arrow
                } else {
                    $('#return-to-top').fadeOut(1000);   // Else fade out the arrow
                }
            });
            $('#return-to-top').click(function() {      // When arrow is clicked
                $('body,html').animate({
                    scrollTop : 0                       // Scroll to top of body
                }, 500);
            });
        </script>
    
</body></html>