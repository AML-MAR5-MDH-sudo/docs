<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Chocolatey - Set up the Chocolatey.Server" />
        <meta property="product:brand" content="Chocolatey" />
        <meta property="og:description" content="Chocolatey is software management automation for Windows that wraps installers, executables, zips, and scripts into compiled packages. Chocolatey integrates w/SCCM, Puppet, Chef, etc. Chocolatey is trusted by businesses to manage software deployments." />
        <meta name="description" content="Chocolatey is software management automation for Windows that wraps installers, executables, zips, and scripts into compiled packages. Chocolatey integrates w/SCCM, Puppet, Chef, etc. Chocolatey is trusted by businesses to manage software deployments." />
        <meta name="flattr:id" content="mqgjkp">
        <meta property="DC.title" content="Chocolatey - Set up the Chocolatey.Server" />
        <meta property="og:site_name" content="Chocolatey" />
        <meta property="og:type" content="product" />
        <meta property="product:category" content="software" />
        <meta property="og:image" content="https://chocolatey.org/content/images/icon_slogan.png" />
        <meta property="og:url" content="https://docs.chocolatey.org/en-us/how-tos/set-up-chocolatey-server" />
        <meta property="copyright" content="Chocolatey is Copyright 2020 - 2020 Chocolatey Software,Inc." />


        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,700" data-no-mirror>
        <link rel="stylesheet" href="/assets/css/styles.css" />
        <link rel="stylesheet" href="/assets/css/all.min.css" />
        <script>
            if(!/MSIE \d|Trident.*rv:/.test(navigator.userAgent)) {
                const theme = localStorage.getItem('theme'), html = document.getElementsByTagName("html")[0];
                if(theme){if(theme == 'dark') {html.setAttribute("data-user-color-scheme", "dark");}else{html.setAttribute("data-user-color-scheme", "light");}}
            }
        </script>
        
        <title>Chocolatey - Set up the Chocolatey.Server</title>
    </head>
    <body>
        <nav id="topNav" class="navbar">
            <a class="navbar-brand" href="/">
                <img class="d-md-none" src="/assets/logo.svg" alt="Chocolatey" />
                <img class="d-none d-md-block" src="/assets/logo-square.svg" alt="Chocolatey" />
            </a>
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="https://github.com/chocolatey/docs" aria-label="Edit on GitHub"><i class="fab fa-2x fa-github" aria-hidden="true"></i></a>
                </li>
                <li class="nav-item">
                    <label class="mb-0" for="themeToggle">
                    <input id="themeToggle" class="toggle-checkbox" type="checkbox" aria-label="Toggle theme settings" />
                        <div class="toggle-slot">
                            <div class="sun-icon-wrapper">
                                <div class="sun-icon fas fa-sun"></div>
                            </div>
                            <div class="toggle-button"></div>
                            <div class="moon-icon-wrapper">
                                <div class="moon-icon fas fa-moon"></div>
                            </div>
                        </div>
                    </label>
                </li>
            </ul>
        </nav>
        <div class="container-fluid">
            <div class="row">
                <div id="leftSidebarNav" class="col-md-3 col-xl-2 p-0">
                    <div class="loader-container"><div class="loader"></div></div>
                    <nav class="navbar navbar-expand-md p-0">
                        <button class="navbar-toggler btn px-3 py-2" type="button" data-toggle="collapse" data-target="#leftSidebar" aria-expanded="false" aria-controls="leftSidebar" aria-label="Toggle navigation"><i class="fas fa-ellipsis-v text-primary"></i></button>
                        <div id="leftSidebar" class="collapse navbar-collapse">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                        <a class="nav-link" href="/en-us">Chocolatey - Software Management for Windows</a>
                                </li>
                                <li class="nav-item">
                                            <a class="nav-link" href="/en-us/why">Why Chocolatey?</a>
                                            <a class="nav-link" href="/en-us/security">Security</a>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/features" data-href="#id-a87dc853-b717-40e8-abad-cefaf7d2d3ce">Features</a>
                                            <div class="collapse" id="id-a87dc853-b717-40e8-abad-cefaf7d2d3ce">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" data-href="#id-26ea905f-1e90-4657-a37b-3dcddc40521f" href="/en-us/features/free" data-href="#id-26ea905f-1e90-4657-a37b-3dcddc40521f">Free</a>
                                                                <div class="collapse" id="id-26ea905f-1e90-4657-a37b-3dcddc40521f">
                                                                    <ul class="navbar-nav">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/free/how-to-host-feed">Host packages internally</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/free/infrastructure-automation">Integrates with everything</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/free/shim">Package Shims</a>
                                                                            </li>
                                                                    </ul>
                                                                </div>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" data-href="#id-25dc21c2-1729-4c75-bf88-391af96e046b" href="/en-us/features/paid" data-href="#id-25dc21c2-1729-4c75-bf88-391af96e046b">Paid</a>
                                                                <div class="collapse" id="id-25dc21c2-1729-4c75-bf88-391af96e046b">
                                                                    <ul class="navbar-nav">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/agent-service">Self Service/Background Mode (C4B)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/chocolatey-central-management">Chocolatey Central Management (C4B)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/automatically-recompile-packages">Package Internalizer (C4B)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/create-packages-from-installers">Package Builder (C4B)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/package-audit">Package Audit (C4B)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/branding">Branding Chocolatey Applications (C4B)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/virus-check">Runtime Malware Protection (Pro&#x2B;)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/private-cdn">Download CDN Cache (Pro&#x2B;)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/package-reducer">Package Reducer (Pro&#x2B;)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/install-directory-override">Ubiquitous Install Directory Option (Pro&#x2B;)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/package-throttle">Package Throttle (Pro&#x2B;)</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/features/paid/synchronize">Package Synchronizer (Pro&#x2B; Auto / C4B Sync Command)</a>
                                                                            </li>
                                                                    </ul>
                                                                </div>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/general" data-href="#id-c5370c57-c0f8-4aef-820e-340d971a7877">General</a>
                                            <div class="collapse" id="id-c5370c57-c0f8-4aef-820e-340d971a7877">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" data-href="#id-51c4d712-3285-477c-8fea-090f629f8fcc" href="/en-us/general/release-notes" data-href="#id-51c4d712-3285-477c-8fea-090f629f8fcc">Release Notes</a>
                                                                <div class="collapse" id="id-51c4d712-3285-477c-8fea-090f629f8fcc">
                                                                    <ul class="navbar-nav">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/general/release-notes/open-source">Open Source</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/general/release-notes/licensed">Licensed</a>
                                                                            </li>
                                                                    </ul>
                                                                </div>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/general/troubleshooting">Troubleshooting</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/general/faqs">FAQs</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/general/moderation">Chocolatey.org Moderation</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/general/community-packages-disclaimer">Chocolatey.org Packages Disclaimer</a>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/usage" data-href="#id-edb16ced-1e07-4f91-8fbf-c40a13ef9441">Usage</a>
                                            <div class="collapse" id="id-edb16ced-1e07-4f91-8fbf-c40a13ef9441">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/usage/installation">How to install</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/usage/installation-licensed">How to install licensed edition</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/usage/chocolatey-configuration">Configuration/chocolatey.config</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/usage/uninstallation">How to uninstall</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/usage/getting-started">Getting Started</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" data-href="#id-032e39ba-6839-4f03-bbef-a096f2e346fd" href="/en-us/usage/commands" data-href="#id-032e39ba-6839-4f03-bbef-a096f2e346fd">Commands</a>
                                                                <div class="collapse" id="id-032e39ba-6839-4f03-bbef-a096f2e346fd">
                                                                    <ul class="navbar-nav">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/reference">Complete Reference</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/list">List/Search</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/info">Info</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/install">Install</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/pin">Pin</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/outdated">Outdated</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/upgrade">Upgrade</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/uninstall">Uninstall</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/config">Config</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/sources">Source/Sources</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/feature">Feature</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/usage/commands/download">Download</a>
                                                                            </li>
                                                                    </ul>
                                                                </div>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/creating-packages" data-href="#id-be6f5c38-fa5b-483a-8323-e5885e4f5697">Creating Packages</a>
                                            <div class="collapse" id="id-be6f5c38-fa5b-483a-8323-e5885e4f5697">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/creating-packages/create-packages">Create Packages</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/creating-packages/create-packages-quick-start">Quick Start</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" data-href="#id-87468a15-68bd-4620-801c-d82bbede866d" href="/en-us/creating-packages/commands" data-href="#id-87468a15-68bd-4620-801c-d82bbede866d">Commands</a>
                                                                <div class="collapse" id="id-87468a15-68bd-4620-801c-d82bbede866d">
                                                                    <ul class="navbar-nav">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/commands/new">New</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/commands/pack">Pack</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/commands/api-key">ApiKey</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/commands/push">Push</a>
                                                                            </li>
                                                                    </ul>
                                                                </div>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" data-href="#id-eb654b8d-33e6-47bb-a5f9-eb0d20bc6869" href="/en-us/creating-packages/helpers" data-href="#id-eb654b8d-33e6-47bb-a5f9-eb0d20bc6869">PowerShell Reference</a>
                                                                <div class="collapse" id="id-eb654b8d-33e6-47bb-a5f9-eb0d20bc6869">
                                                                    <ul class="navbar-nav">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/helpers/reference">Function and Variable Reference</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/helpers/install-chocolateypackage">Install-ChocolateyPackage</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/helpers/install-chocolateyzippackage">Install-ChocolateyZipPackage</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/helpers/install-chocolateypowershellcommand">Install-ChocolateyPowerShellCommand</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/helpers/install-chocolateyvsixpackage">Install-ChocolateyVsixPackage</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/helpers/get-chocolateywebfile">Get-ChocolateyWebFile</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/creating-packages/helpers/install-chocolateyinstallpackage">Install-ChocolateyInstallPackage</a>
                                                                            </li>
                                                                    </ul>
                                                                </div>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/creating-packages/automatic-packages">Automatic Packaging</a>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse active" role="button" aria-expanded="false" href="/en-us/how-tos" data-href="#id-dc73d0ab-219a-42d4-996d-675f393d1d78">How To&#x27;s</a>
                                            <div class="collapse" id="id-dc73d0ab-219a-42d4-996d-675f393d1d78">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/proxy-settings-for-chocolatey">Use Chocolatey w/Proxy Server</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/change-cache">Change Download Cache Location aka Don&#x27;t use TEMP for downloads</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/install-upgrade-package-without-scripts">Install/Upgrade a Package w/out running install scripts</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/package-triage-process">Request Package Fixes/Updates</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/recompile-packages">Manually Recompile Packages, Embedding/Internalizing Remote Resources</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/package-maintainer-handover">Take Over Package Maintenance Exclusively</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/parse-packageparameters-argument">Parse Package Parameters</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/mount-an-iso-in-chocolatey-package">Mount Iso</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/create-custom-package-templates">Create Custom Package Templates</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/create-extensions">Extend Chocolatey With PowerSHell Modules (extensions)</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/deprecate-a-chocolatey-package">Deprecate a Package</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link active active-page" href="/en-us/how-tos/set-up-chocolatey-server">Set up the Chocolatey.Server</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/setup-offline-installation">Set up Chocolatey for Internal/organizational use</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/setup-internal-package-repository">Automate Package Internalizer (MSP/C4B)</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/how-tos/chocolatey-for-business-quick-start-guide">C4B Quick Start Guide</a>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/chocolatey-gui" data-href="#id-67f00a4b-aa99-4360-8bdd-6b188b1b9da3">Chocolatey GUI</a>
                                            <div class="collapse" id="id-67f00a4b-aa99-4360-8bdd-6b188b1b9da3">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/chocolatey-gui/overview">Chocolatey GUI Overview</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/chocolatey-gui/known-issues">Chocolatey GUI Known Issues</a>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/quick-deployment" data-href="#id-498a0adb-06ea-43f1-84aa-1a4da161ede8">Quick Deployment Environment (QDE) Overview</a>
                                            <div class="collapse" id="id-498a0adb-06ea-43f1-84aa-1a4da161ede8">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/quick-deployment/setup">Setup</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/quick-deployment/desktop-readme">Desktop Readme</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/quick-deployment/ssl-setup">SSL Setup</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/quick-deployment/firewall-changes">Firewall Changes</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/quick-deployment/client-setup">Client Setup</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/quick-deployment/internet-setup">Internet Setup</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" data-href="#id-8d73601a-ad29-46f5-ae53-ba2e6553f81e" href="/en-us/quick-deployment/v1" data-href="#id-8d73601a-ad29-46f5-ae53-ba2e6553f81e">QDE v1</a>
                                                                <div class="collapse" id="id-8d73601a-ad29-46f5-ae53-ba2e6553f81e">
                                                                    <ul class="navbar-nav">
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/quick-deployment/v1/setup">Setup</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/quick-deployment/v1/desktop-readme">Desktop Readme</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/quick-deployment/v1/ssl-setup">SSL Setup</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/quick-deployment/v1/firewall-changes">Firewall Changes</a>
                                                                            </li>
                                                                            <li class="nav-item">
                                                                                <a class="nav-link" href="/en-us/quick-deployment/v1/client-setup">Client Setup</a>
                                                                            </li>
                                                                    </ul>
                                                                </div>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/central-management" data-href="#id-78ab8265-76c0-4afd-a2a1-c048de317bcc">Central Management Overview</a>
                                            <div class="collapse" id="id-78ab8265-76c0-4afd-a2a1-c048de317bcc">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/central-management/setup">Central Management Setup</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/central-management/setup-client">Central Management Client Setup</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/central-management/setup-upgrade">Central Management Upgrade</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/central-management/deployments">Central Management Deployments</a>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/use-cases" data-href="#id-9114a94e-c8e1-44c1-b1d0-2e9e67c1f0a4">Use Cases</a>
                                            <div class="collapse" id="id-9114a94e-c8e1-44c1-b1d0-2e9e67c1f0a4">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/use-cases/development-environment-setup">Development Environment</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/use-cases/hosting-chocolatey-packages-on-myget">Host on MyGet</a>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/learning-resources" data-href="#id-0704e5a8-5706-472c-9c02-57e4242399b8">Learning Resources</a>
                                            <div class="collapse" id="id-0704e5a8-5706-472c-9c02-57e4242399b8">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/learning-resources/resources">Resources</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/learning-resources/videos">Videos</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/learning-resources/presentations">Presentations</a>
                                                        </li>
                                                </ul>
                                            </div>
                                            <a class="nav-link nav-link-collapse" role="button" aria-expanded="false" href="/en-us/additional-information" data-href="#id-80e9bd10-dbe8-4fc1-97f9-8a2192081f8e">Additional Information</a>
                                            <div class="collapse" id="id-80e9bd10-dbe8-4fc1-97f9-8a2192081f8e">
                                                <ul class="navbar-nav">
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/additional-information/legal">Legal</a>
                                                        </li>
                                                        <li class="nav-item">
                                                                <a class="nav-link" href="/en-us/additional-information/history">History</a>
                                                        </li>
                                                </ul>
                                            </div>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
                <div class="col-md-9 col-xl-10 py-3 py-md-5 mx-auto">
                    <h1 class="title ml-md-4 d-xl-none">Set up the Chocolatey.Server</h1>
                    <div class="row">
                        <div id="mainContent" class="col-xl-10 pl-md-5 order-2 order-xl-1">
                             <h1 class="title d-none d-xl-block">Set up the Chocolatey.Server</h1>
                            <p><strong>NOTE:</strong> Refer to <a href="./setup-offline-installation">How To Set Up Chocolatey For Organizational/Internal Use</a> in tandem with this article.</p>
<h2 id="summary">Summary</h2>
<p><strong>tl;dr - Chocolatey.Server is not recommended for most organizational use cases. There are more robust options out there. However if you have a very simple use case or are conducting a POC, Chocolatey.Server may be good enough for your needs. If you don't find it robust enough, our recommendation is to look to something more robust like Artifactory, Nexus, or ProGet (two of which are also free to use).</strong></p>
<p>The <a href="https://chocolatey.org/packages/chocolatey.server">Chocolatey.Server package</a> contains the binaries for a fully ready to go Chocolatey NuGet Server where you can serve packages over HTTP using a NuGet-compatible v2 OData Atom Feed. Chocolatey Simple Server (aka Chocolatey Server aka chocolatey.server) is an implementation of a NuGet.Server compiled and ready to go.</p>
<p><strong>NOTE</strong>: This is meant to be a simple implementation and may not have the features to be used in a robust environment where you need multiple repositories with multiple users/API keys. If you are an organization, the recommendation is to evaluate your needs and determine if you instead need a Repository Server like Nexus, Artifactory Pro, or ProGet. See <a href="../features/free/how-to-host-feed">hosting your own server</a> for those options.</p>
<h2 id="links">Links</h2>
<ul>
<li><a href="https://chocolatey.org/packages/chocolatey.server">Package</a></li>
<li><a href="https://github.com/chocolatey/simple-server/blob/master/CHANGELOG.md">Changelog</a></li>
<li><a href="https://github.com/chocolatey/simple-server">Source Code</a></li>
</ul>
<p>When you install it, it will install the website typically to <code>c:\tools\chocolatey.server</code>.</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>.NET Framework 4.6+.</li>
<li>You need a Windows box with at least 50GB of free space (or where ever you are going to put the packages).</li>
<li>50GB of free space for where ever you will put packages.</li>
<li>We recommend at least 8GB RAM, but more if you can.</li>
<li>Ability to set up an IIS site and unblock website ports.</li>
<li>If you have an IIS site for WSUS administration, see <a href="#configure-simple-server-alongside-wsus-admin-site">Configure Simple Server alongside WSUS admin-site</a> for instructions on how to make Chocolatey Simple Server work alongside the WSUS admin-site.</li>
<li>If you can ensure your server is up to date with all of the Windows Updates, you will move through this process quite a bit quicker.</li>
</ul>
<h2 id="setup">Setup</h2>
<h3 id="setup-with-ansible">Setup with Ansible</h3>
<p>If you are using Ansible, you can use the <a href="https://galaxy.ansible.com/jborean93/win_chocolatey_server">win_chocolatey_server</a> role to set up an Chocolatey.Server instance on a host running Windows Server 2008 R2 or newer.</p>
<p>This Ansible role allows you to configure the following:</p>
<ul>
<li>The API token required to push packages</li>
<li>Multiple credentials that can be used for basic authentication</li>
<li>The location to install Chocolatey.Server to</li>
<li>Binding settings for the Chocolatey.Server website such as the http and https port as well as the https certificate thumpbrint</li>
<li>Generate a self-signed certificate alongside a https binding if a CA is not available</li>
<li>Automatically install the Chocolatey nupkg from a path or a URL</li>
</ul>
<h3 id="setup-with-chef">Setup with Chef</h3>
<p>If you are using Chef, you can use <a href="https://github.com/galenemery/chocolatey_server">Galen Emery's POC</a> as a starting point to set up a Chocolatey Simple Server.</p>
<h3 id="setup-with-puppet">Setup with Puppet</h3>
<p>If you are using the Puppet module <a href="https://forge.puppet.com/chocolatey/chocolatey_server">chocolatey/chocolatey_server</a>, it will do all of the additional setup for this package and allow some customization. <strong>NOTE: For now it may be best to look at the one in GitHub.</strong></p>
<p>The module works with Windows Server 2008/2012.
For a simple <code>include chocolatey_server</code> it does the following automatically:</p>
<ul>
<li>Ensures IIS is installed</li>
<li>Ensures ASP.NET is installed</li>
<li>Ensures the chocolatey.server package is installed</li>
<li>Ensures an app pool for the chocolatey.server site</li>
<li>Ensures the IIS website is setup for chocolatey.server</li>
<li>Ensures permissions for the site are set correctly.</li>
</ul>
<h3 id="setup-manually">Setup Manually</h3>
<ul>
<li>If your Windows updates are not up to date, there are two required Windows updates you are going to need (heads up they take awhile)
<ul>
<li>Install KB2919355 - <code>choco install KB2919355 -y</code> - this one or the other Windows update takes a <em><strong>very</strong></em> long time to install, just be patient</li>
<li>Restart your machine.</li>
<li>Install KB2919442 - <code>choco install KB2919442 -y</code> (IIRC this is the one that takes forever...) -</li>
<li>Reboot that machine again</li>
</ul>
</li>
<li>You need at least .NET Framework 4.6. If you don't have that or newer, then run <code>choco install dotnet4.6.1 -y</code>
<ul>
<li>Reboot one more time, thanks Windows!!</li>
</ul>
</li>
<li>Install or upgrade the package - <code>choco upgrade chocolatey.server -y</code></li>
<li>Ensure IIS is installed. You can try <code>choco install IIS-WebServer --source windowsfeatures</code></li>
<li>Ensure that ASP.NET is installed. Try <code>choco install IIS-ASPNET45 --source windowsfeatures</code> (Windows Server 2012). Use <code>IIS-ASPNET</code> for Windows Server 2008, possibly <code>IIS-ASPNET46</code> for Windows Server 2016.</li>
<li>Disable or remove the Default website</li>
<li>Set up an app pool for Chocolatey.Server. Ensure 32-bit is enabled and the managed runtime version is <code>v4.0</code> (or some version of 4). Ensure it is &quot;Integrated&quot; and not &quot;Classic&quot;.</li>
<li>Set up an IIS website pointed to the install location and set it to use the app pool.</li>
<li>Go to explorer and right click on <code>c:\tools\chocolatey.server</code> and add the following permissions:
<ul>
<li><code>IIS_IUSRS</code> - Read</li>
<li><code>IUSR</code> - Read</li>
<li><code>IIS APPPOOL\&lt;app pool name&gt;</code> - Read</li>
</ul>
</li>
<li>Right click on the <code>App_Data</code> subfolder and add the following permissions:
<ul>
<li><code>IIS_IUSRS</code> - Modify</li>
<li><code>IIS APPPOOL\&lt;app pool name&gt;</code> - Modify</li>
</ul>
</li>
</ul>
<h3 id="setup-with-powershell-script">Setup with PowerShell Script</h3>
<p>To install and configure Chocolatey.Server using PowerShell run the following script in an <strong>elevated administrator session</strong>:</p>
<pre><code class="language-powershell">$siteName = 'ChocolateyServer'
$appPoolName = 'ChocolateyServerAppPool'
$sitePath = 'c:\tools\chocolatey.server'

function Add-Acl {
    [CmdletBinding()]
    Param (
        [string]$Path,
        [System.Security.AccessControl.FileSystemAccessRule]$AceObject
    )

    Write-Verbose &quot;Retrieving existing ACL from $Path&quot;
    $objACL = Get-ACL -Path $Path
    $objACL.AddAccessRule($AceObject)
    Write-Verbose &quot;Setting ACL on $Path&quot;
    Set-ACL -Path $Path -AclObject $objACL
}

function New-AclObject {
    [CmdletBinding()]
    Param (
        [string]$SamAccountName,
        [System.Security.AccessControl.FileSystemRights]$Permission,
        [System.Security.AccessControl.AccessControlType]$AccessControl = 'Allow',
        [System.Security.AccessControl.InheritanceFlags]$Inheritance = 'None',
        [System.Security.AccessControl.PropagationFlags]$Propagation = 'None'
    )

    New-Object -TypeName System.Security.AccessControl.FileSystemAccessRule($SamAccountName, $Permission, $Inheritance, $Propagation, $AccessControl)
}

if ($null -eq (Get-Command -Name 'choco.exe' -ErrorAction SilentlyContinue)) {
    Write-Warning &quot;Chocolatey not installed. Cannot install standard packages.&quot;
    Exit 1
}
# Install Chocolatey.Server prereqs
choco install IIS-WebServer --source windowsfeatures
choco install IIS-ASPNET45 --source windowsfeatures

# Install Chocolatey.Server
choco upgrade chocolatey.server -y

# Step by step instructions here https://docs.chocolatey.org/en-us/how-tos/set-up-chocolatey-server#setup-normally
# Import the right modules
Import-Module WebAdministration
# Disable or remove the Default website
Get-Website -Name 'Default Web Site' | Stop-Website
Set-ItemProperty &quot;IIS:\Sites\Default Web Site&quot; serverAutoStart False    # disables website

# Set up an app pool for Chocolatey.Server. Ensure 32-bit is enabled and the managed runtime version is v4.0 (or some version of 4). Ensure it is &quot;Integrated&quot; and not &quot;Classic&quot;.
New-WebAppPool -Name $appPoolName -Force
Set-ItemProperty IIS:\AppPools\$appPoolName enable32BitAppOnWin64 True       # Ensure 32-bit is enabled
Set-ItemProperty IIS:\AppPools\$appPoolName managedRuntimeVersion v4.0       # managed runtime version is v4.0
Set-ItemProperty IIS:\AppPools\$appPoolName managedPipelineMode Integrated   # Ensure it is &quot;Integrated&quot; and not &quot;Classic&quot;
Restart-WebAppPool -Name $appPoolName   # likely not needed ... but just in case

# Set up an IIS website pointed to the install location and set it to use the app pool.
New-Website -Name $siteName -ApplicationPool $appPoolName -PhysicalPath $sitePath

# Add permissions to c:\tools\chocolatey.server:
'IIS_IUSRS', 'IUSR', &quot;IIS APPPOOL\$appPoolName&quot; | ForEach-Object {
    $obj = New-AclObject -SamAccountName $_ -Permission 'ReadAndExecute' -Inheritance 'ContainerInherit','ObjectInherit'
    Add-Acl -Path $sitePath -AceObject $obj
}

# Add the permissions to the App_Data subfolder:
$appdataPath = Join-Path -Path $sitePath -ChildPath 'App_Data'
'IIS_IUSRS', &quot;IIS APPPOOL\$appPoolName&quot; | ForEach-Object {
    $obj = New-AclObject -SamAccountName $_ -Permission 'Modify' -Inheritance 'ContainerInherit', 'ObjectInherit'
    Add-Acl -Path $appdataPath -AceObject $obj
}
</code></pre>
<h2 id="additional-configuration">Additional Configuration</h2>
<p>Looking for where the apikey is and how it is changed, that is all done through the web.config. The config is pretty well-documented on each of the appSettings key values.</p>
<p>To update the apiKey, it is kept in the web.config, search for that value and update it. If you reach out to the server on https://localhost (it will show you what the apikey is, only locally though).</p>
<h3 id="performance">Performance</h3>
<p>To configure for performance, you will want to do the following:</p>
<ul>
<li>Keep the site warm (<a href="https://serverfault.com/a/595215/79259">https://serverfault.com/a/595215/79259</a>):
<ul>
<li>Turn on Application Initialization in Windows Features under Web Server (IIS) -&gt; Web Server -&gt; Application Development -&gt; Application Initialization (you can also try <code>choco install IIS-ApplicationInit --source windowsfeatures</code>)</li>
<li>Application Pool Advanced Settings:
<ul>
<li>General: Start Mode -&gt; Always Running</li>
<li>Process Model: Idle Time-out (minutes) -&gt; 0</li>
<li>Recycling: Regular Time Interval (minutes) -&gt; 0</li>
</ul>
</li>
<li>Under the Site's Advanced Settings:
<ul>
<li>Preload Enabled -&gt; True</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="future">Future</h4>
<p>We are looking to add support for the package source to automatically handle this aspect - <a href="http://blog.nuget.org/20150922/Accelerate-Package-Source.html">http://blog.nuget.org/20150922/Accelerate-Package-Source.html</a></p>
<h3 id="configure-simple-server-alongside-wsus-admin-site">Configure Simple Server alongside WSUS admin-site</h3>
<p>If you are running the Simple Server next to a WSUS admin-site, you need to change some settings in the IIS-Configuration for making the Simple Server work correctly again.
This is due to the fact that the WSUS admin-site installation registers two modules in the IIS root configuration, which will be passed down to all other sites running on that IIS instance, including the Chocolatey Simple Server site.</p>
<p>To make the Chocolatey Simple Server work again, you will need to disable inheritance for these modules in order to remove them from the Chocolatey Simple Server site.</p>
<p><em>Before making changes to your IIS configuration, read all steps carefully and make sure that you have a backup</em></p>
<p>You can do this either by powershell:</p>
<pre><code class="language-powershell"># Import WebAdministration
Import-Module WebAdministration

# Remove locks from modules
Remove-WebConfigurationLock -Filter &quot;system.webServer/modules/add[&#64;name='DynamicCompressionModule']&quot; -PSPath IIS:\
Remove-WebConfigurationLock -Filter &quot;system.webServer/modules/add[&#64;name='StaticCompressionModule']&quot; -PSPath IIS:\

# Remove modules from the Chocolatey Simple Server site
Disable-WebGlobalModule -PSPath 'IIS:\Sites\ChocolateyServer\' -Name DynamicCompressionModule
Disable-WebGlobalModule -PSPath 'IIS:\Sites\ChocolateyServer\' -Name StaticCompressionModule

# Restart website
Stop-Website -Name &quot;ChocolateyServer&quot;
Start-Website -Name &quot;ChocolateyServer&quot;
</code></pre>
<p>or manual:</p>
<ol>
<li>Open the IIS Management Console</li>
<li>Click on the server name on the upper left pane</li>
<li>On the right pane doubleclick on <code>Modules</code>. All available modules will show up</li>
<li>Search for <code>DynamicCompressionModule</code>, right-click it and choose <code>Unlock</code></li>
<li>Do the same for <code>StaticCompressionModule</code></li>
<li>Under <code>Sites</code> on the left pane click on the site for your Chocolatey Simple Server, most likely <code>ChocolateyServer</code></li>
<li>Again, search for <code>Modules</code> on the right pane and doubleclick it</li>
<li>Search for <code>DynamicCompressionModule</code>, right-click it and choose <code>Remove</code></li>
<li>Restart the Chocolatey Simple Server site</li>
</ol>
<p>The Chocolatey Simple Server should now be able to handle requests correctly again.</p>
<h2 id="common-errors-and-resolutions">Common Errors and Resolutions</h2>
<p>When you are attempting to install the Simple Server, you may run into some errors depending on your configuration. Here are some common ones we've seen that you may get when you browse to the the site.</p>
<h3 id="error-404-on-push">Error 404 on Push</h3>
<p>If you can do everything except push packages, it is likely your application pool is set to Classic mode and can't find directories. It needs to be &quot;Integrated&quot;. Please change that to Integrated and then recycle the application pool. That should resolve the issue of pushing packages. Reference: <a href="https://stackoverflow.com/a/37702935/18475">https://stackoverflow.com/a/37702935/18475</a>.</p>
<h3 id="error-500">Error 500</h3>
<p>Take a closer look at the error. It may be one of the other errors below.</p>
<h3 id="error-500.19-the-requested-page-cannot-be-accessed-because-the-related-configuration-data-for-the-page-is-invalid">Error 500.19 - &quot;The requested page cannot be accessed because the related configuration data for the page is invalid.&quot;</h3>
<p>This can mean a couple of things:</p>
<ul>
<li>You missed ensuring the website is using an app pool that is at least .NET 4.0. Check the app pool that your site is using, then ensure that app pool has <code>32-bit</code> enabled and the managed runtime version is <code>v4.0</code> (or some version of 4).</li>
<li>You have made a change to the xml file and it is not valid xml. This typically happens if you put an xml escape character into the password (<code>&amp;</code>). To do that you would need to set CData around the value or use a different password. It could also happen if you accidentallly change the xml and it is no longer valid.</li>
<li>You are attempting to set up Chocolatey Server next to WSUS Administration website. See <a href="#configure-simple-server-alongside-wsus-admin-site">Configure Simple Server alongside WSUS admin-site</a> for instructions on how to make Chocolatey Simple Server work alongside the WSUS admin-site.</li>
</ul>
<h3 id="other-error">Other error</h3>
<p>Turn on customErrors under system.web - <customErrors mode="Off" /> - see this guide to set it - <a href="https://stackify.com/web-config-customerrors-asp-net/">https://stackify.com/web-config-customerrors-asp-net/</a></p>
<p>Then browse to the site to see if you can gather any more information.</p>
<p>If so, and you are a commercial edition customer, please open a support ticket. If you are using open source Chocolatey, please open a ticket at <a href="https://github.com/chocolatey/simple-server/issues">https://github.com/chocolatey/simple-server/issues</a>.</p>

                        </div>
                                <div id="rightSidebarNav" class="col-xl-2 pl-md-5 pl-xl-3 order-1 order-xl-2">
                                    <button class="btn btn-link btn-collapse font-weight-bold w-100 d-xl-none mb-2" type="button" data-toggle="collapse" data-target="#rightSidebar" aria-expanded="false" aria-controls="rightSidebar">Jump to Section</button>
                                    <div id="rightSidebar" class="sticky-top collapse">
                                        <div class="card card-body py-0 px-xl-0 mb-3">
                                            <p class="font-weight-bold pt-3">On This Page</p>
                                            <ul class="list-unstyled py-3">
                                                    <li class="level-2"><a href="#summary">Summary</a></li>
                                                    <li class="level-2"><a href="#links">Links</a></li>
                                                    <li class="level-2"><a href="#requirements">Requirements</a></li>
                                                    <li class="level-2"><a href="#setup">Setup</a></li>
                                                    <li class="level-3"><a href="#setup-with-ansible">Setup with Ansible</a></li>
                                                    <li class="level-3"><a href="#setup-with-chef">Setup with Chef</a></li>
                                                    <li class="level-3"><a href="#setup-with-puppet">Setup with Puppet</a></li>
                                                    <li class="level-3"><a href="#setup-manually">Setup Manually</a></li>
                                                    <li class="level-3"><a href="#setup-with-powershell-script">Setup with PowerShell Script</a></li>
                                                    <li class="level-2"><a href="#additional-configuration">Additional Configuration</a></li>
                                                    <li class="level-3"><a href="#performance">Performance</a></li>
                                                    <li class="level-4"><a href="#future">Future</a></li>
                                                    <li class="level-3"><a href="#configure-simple-server-alongside-wsus-admin-site">Configure Simple Server alongside WSUS admin-site</a></li>
                                                    <li class="level-2"><a href="#common-errors-and-resolutions">Common Errors and Resolutions</a></li>
                                                    <li class="level-3"><a href="#error-404-on-push">Error 404 on Push</a></li>
                                                    <li class="level-3"><a href="#error-500">Error 500</a></li>
                                                    <li class="level-3"><a href="#error-500.19-the-requested-page-cannot-be-accessed-because-the-related-configuration-data-for-the-page-is-invalid">Error 500.19 - &quot;The requested page cannot be accessed because the related configuration data for the page is invalid.&quot;</a></li>
                                                    <li class="level-3"><a href="#other-error">Other error</a></li>
                                            </ul>
                                                <p class="font-weight-bold"><a href="https://github.com/chocolatey/docs/edit/master/input/en-us/how-tos/set-up-chocolatey-server.md"><i class="fas fa-pencil-alt" aria-hidden="true"></i> Edit This Page</a></p>
                                        </div>
                                    </div>
                                </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="cookieNoticeAlert" class="alert alert-dismissible fade show mb-0 text-center d-none" role="alert">
            <p class="mb-0">docs.chocolatey.org uses cookies to enhance the user experience of the site.</p>
            <button type="button" class="btn btn-light btn-sm" data-dismiss="alert" aria-label="Close">I accept</button>
        </div>
        <footer class="p-3 small text-center">
            <span>© 2020 Chocolatey Software, Inc.</span>
            <span>0.0.0-preview.0.97</span>
        </footer>
        
        <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
        <script type="text/javascript" src="/assets/js/bootstrap.bundle.min.js"></script>
        <script type="text/javascript" src="/assets/js/prism.min.js"></script>
        <script type="text/javascript" src="/assets/js/anchor.min.js"></script>
        <script type="text/javascript" src="/assets/js/custom.js"></script>
        <script>
            ((window.gitter = {}).chat = {}).options = {
                room: 'chocolatey/choco'
            };
        </script>
        <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
    </body>
</html>